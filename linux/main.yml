---
- hosts: all
  connection: local
  become: true
  roles:
    - onprem
  vars:
    github_repo: mbta/on_prem_deploy
    git_branch: main
- hosts: local
  roles:
    - ecs-anywhere
    - splunk
    - crowdstrike
    - tenable
- hosts: staging
  vars:
    splunk_index: onprem-linux-staging
    ecs_anywhere_region: us-east-1
    ecs_anywhere_cluster: linux-staging
    ecs_anywhere_activation_id: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64636131346230363930333866396665613563313230343265396130333739323036393735383737
          3031346431393166376136333763666639653534663163320a313964313730373862333937333565
          30643165666139653862353939623831356563343838396662306534636363643938643337623033
          3661383961366266390a663266656332623832353231663735303662636132383465346133316266
          62666534656430353335323765383038346430303131663835343537643162633631333730353939
          3333666166303664643131663261373037633564343532643666
    ecs_anywhere_activation_code: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39313332613538323031646635336663643165363131323638626139376436343230326264306461
          3536386238343638613831653239623165373861633337640a653238646535623137653965333861
          34363262633866343832613064393539316566623930633930656665383535366436666239383737
          3932306432366639340a623461646631623365373963396133336331353063336264666263643465
          38636637393362623663386163336539316432373062316639363635623464313336
  roles:
    - splunk
    - ecs-anywhere
    - crowdstrike
    - tenable
- hosts: prod
  vars:
    splunk_index: onprem-linux-prod
    ecs_anywhere_region: us-east-1
    ecs_anywhere_cluster: linux-prod
    ecs_anywhere_activation_id: TBD
    ecs_anywhere_activation_code: TBD
  roles:
    - splunk
    - ecs-anywhere
    - crowdstrike
    - tenable
